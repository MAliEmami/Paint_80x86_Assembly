PAINT MACRO COLOR	
	MOV AH,0CH
	MOV AL,COLOR
	INT 10H
	ENDM
	
.MODEL SMALL
.STACK
.DATA

OLDVIDEO DB ?
NEWVIDEO DB 12H
.CODE
MAIN PROC
MOV AX,@DATA
MOV DS,AX
MOV AH,0FH ;get the current video mode
INT 10H
MOV OLDVIDEO,AL ;save it
MOV AX,0600H ;clear screen
MOV BH,07
MOV CX,0
MOV DX,184FH
INT 10H
MOV AH,00H ;set new video mode
MOV AL,NEWVIDEO
INT 10H
MOV AX,0000H ;initialize mouse
INT 33H
MOV AX,01H
INT 33H ;show mouse cursor
BACK: MOV AX,03H ;check for mouse button press
INT 33H
CMP BX,0001H
JNE BACK
PAINT 4
jmp BACK
MOV AH,07
INT 21H
MOV AH,0
MOV AL,OLDVIDEO
INT 10H
MOV AH,4CH
INT 21H
MAIN ENDP
	END MAIN